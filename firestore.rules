rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

   
    match /{document=**} {
    //need to extend these so users can edit cards, but only admin can edit everything 
    //
      // allow read, write: if request.time < timestamp.date(2020, 8, 10);
      allow read, write: if request.auth.uid in resource.data.users;
      
    }
    match /boards/{boardId}/cards/{document=**} {
    	//only the user that created this board can write to it, anyone can read it
      //allow read, write: if request.auth != null;
      allow read, write: if request.auth.uid in resource.data.users
      //allow anyone signed in to create a new board
      allow create : if request.auth != null;
      
    }
    
   
  }
  
}